<p align="center">
<img src="https://github.com/shinheylynn/storybook-multi-framework/assets/84219519/4c39a800-aa1f-41ca-bcf0-fb377b64bb53" align="center" width="50%" />
<br/>
<br/>
<img src="https://github.com/shinheylynn/storybook-multi-framework/assets/84219519/18025217-01c9-41e2-b068-bf140b31dd54" align="center" width="15%" />
<img src="https://github.com/shinheylynn/storybook-multi-framework/assets/84219519/ef44290e-e90a-4f30-a329-83020496be46" align="center" width="15%" />
<img src="https://github.com/shinheylynn/storybook-multi-framework/assets/84219519/e9a8fdf8-95fd-4c23-95ba-da8f98fef2f6" align="center" width="15%" />
</p>

<br/>

<p align="center">
<img src="https://img.shields.io/badge/storybook-FF4785?style=for-the-badge&logo=storybook&logoColor=white"><img src="https://img.shields.io/badge/amazons3-569A31?style=for-the-badge&logo=amazons3&logoColor=white"><img src="https://img.shields.io/badge/chromatic-FC521F?style=for-the-badge&logo=chromatic&logoColor=white"><img src="https://img.shields.io/badge/vite-646CFF?style=for-the-badge&logo=vite&logoColor=white"><img src="https://img.shields.io/badge/vue-4FC08D?style=for-the-badge&logo=vuedotjs&logoColor=white"><img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=white">
</p>

<br/>

# Project ì†Œê°œ

### ğŸ“Œ ë¬¸ì œì 
* Vue.jsë¥¼ ì‚¬ìš©í•˜ëŠ” [Moreden](https://moreden.co.kr/) 
* React.jsë¥¼ ì‚¬ìš©í•˜ëŠ” [Medistream](https://auth.medistream.co.kr/login?client_id=01FSRJ9QBKT85VMM0RA4VC4FG3&redirect_uri=https://members.medistream.co.kr/auth/callback&response_type=code)
  
ë‘ ì‚¬ì´íŠ¸ ëª¨ë‘ ë™ì¼í•œ UI ì»´í¬ë„ŒíŠ¸ë“¤ì„ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë‚˜, í”„ë ˆì„ì›Œí¬ê°€ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ê°ê¸° ë‹¤ë¥¸ ì €ì¥ì†Œì—ì„œ ê´€ë¦¬ ì¤‘ì´ì—ˆìŒ.

ì»´í¬ë„ŒíŠ¸ì— ì—…ë°ì´íŠ¸ê°€ ìƒê¸°ë©´ ë‘ ì €ì¥ì†Œì—ì„œ ëª¨ë‘ ìˆ˜ì •í•´ì•¼ í•œë‹¤ëŠ” ë²ˆê±°ë¡œì›€ì´ ìˆì—ˆê¸° ë•Œë¬¸ì—, íš¨ìœ¨ë„ë¥¼ ë†’ì´ê¸° ìœ„í•´ì„œ ë‹¤ì–‘í•œ í”„ë ˆì„ì›Œí¬ë“¤ì„ í•˜ë‚˜ì˜ ì €ì¥ì†Œì—ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.

ğŸ’¡ ëª©í‘œí•œ ë°”ë¥¼ ì´ë£¨ê³ ì [`Storybook`](https://storybook.js.org/)ì˜ **`composition`** ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ êµ¬ì¡°ë¥¼ ì„¤ê³„í•œë‹¤.

<br/>

### <img src="https://img.shields.io/badge/storybook-FF4785?style=for-the-badge&logo=storybook&logoColor=white"> ì— ëŒ€í•´

1. [Storybook íŠœí† ë¦¬ì–¼](https://storybook.js.org/tutorials/intro-to-storybook/vue/en/get-started/) ì½ì–´ë³´ê¸°
2. UI ì»´í¬ë„ŒíŠ¸ ìƒì„± í›„ [ë””ìì¸ ì‹œìŠ¤í…œìœ¼ë¡œ ì œì‘í•˜ëŠ” ë°©ë²•](https://storybook.js.org/tutorials/design-systems-for-developers/)
3. [ê³µì‹ ë¬¸ì„œ](https://storybook.js.org/) ì½ì–´ë³´ê¸°
4. [Composition](https://storybook.js.org/docs/react/sharing/storybook-composition#page-top) ê¸°ëŠ¥ì— ëŒ€í•´ ì½ì–´ë³´ê¸°

<br/>

## Storybook Multi-Framework ì‘ì—…: 
*(í¸ì˜ìƒ React libraryë¥¼ frameworkë¡œ ì§€ì¹­í•¨.)*

2ê°œ ì´ìƒì˜ í”„ë ˆì„ì›Œí¬ë¥¼ í•˜ë‚˜ì˜ Storybookìœ¼ë¡œ í•©ì³ì„œ í•˜ë‚˜ì˜ ë ˆí¬ë¡œ ê´€ë¦¬í•œë‹¤. ì´ë¥¼ í†µí•´ ë‹¤ìˆ˜ì˜ í”„ë ˆì„ì›Œí¬ë¡œ ì‘ì„±ëœ UIë“¤ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.

<p align="center">
<img src="https://github.com/shinheylynn/storybook-multi-framework/assets/84219519/619c590a-1a96-4948-a9c9-07ea8fdf3359" align="center" width="50%" />
</p>

<br/>

### Architecture:
```
root
ã„´ .storybook
	 storyëŠ” ì—†ê³ , reactì™€ vueë¥¼ compositioní•˜ëŠ” storybook.
ã„´ stories
	 root-storybookì´ ë™ì‘í•˜ê¸° ìœ„í•œ ìµœì†Œ í•˜ë‚˜ ì´ìƒì˜ storyê°€ ì¡´ì¬í•œë‹¤.
ã„´ components
	 UI ì»´í¬ë„ŒíŠ¸ êµ¬ì„±í•˜ëŠ” jsx, vue íŒŒì¼ë“¤ì´ ëª¨ì—¬ìˆë‹¤.
ã„´ [+] react-storybook
	components ë‚´ jsxë¥¼ importí•˜ëŠ” storyë“¤ì´ ëª¨ì—¬ìˆë‹¤.
ã„´ [+] vue-storybook
	components ë‚´ vueë¥¼ importí•˜ëŠ” storyë“¤ì´ ëª¨ì—¬ìˆë‹¤.
```

<br/>

### <img src="https://img.shields.io/badge/amazons3-569A31?style=for-the-badge&logo=amazons3&logoColor=white"> & <img src="https://img.shields.io/badge/chromatic-FC521F?style=for-the-badge&logo=chromatic&logoColor=white"> ë°°í¬:
ë³¸ í”„ë¡œì íŠ¸ëŠ” `root storybook`ì„ ì œì™¸í•œ ê° Framework Storybookë“¤ì„ [`Chromatic`](https://www.chromatic.com/)ì„ ì´ìš©í•˜ì—¬ ë°°í¬í•œë‹¤.
* `root storybook`ì€ íšŒì‚¬ ë‚´ ê·œì •ëŒ€ë¡œ [`AWS S3`](https://aws.amazon.com/ko/s3/getting-started/?trk=919c3162-c8f1-4d4c-baec-33fb3fcc1988&sc_channel=ps&ef_id=Cj0KCQjwm66pBhDQARIsALIR2zBG-HSy4a78wGK5mOv4LzXDb30QAs_ug03YWfKSa2BmOlyLsXGGINcaApwNEALw_wcB:G:s&s_kwcid=AL!4422!3!536452699328!e!!g!!aws%20s3!11547526035!116491964390)ë¥¼ ì´ìš©í•˜ì—¬ ë°°í¬í•¨.

<br/>

# Pipeline
```
pipelines:
  branches:
    develop:
      - step:
          name: Build
          deployment: Production
          image: node:18
          script:
            - npm install
            - npm run build-storybook
          artifacts:
            - storybook-static/**
      - step:
          name: Deploy to S3
          image: atlassian/pipelines-awscli
          script:
            - aws s3 sync --delete ./storybook-static s3://ui.integrationcorp.co.kr
            - aws cloudfront create-invalidation --distribution-id E2J4QL6EK16P4D --paths "/*"
    react:
      - step:
          name: Build & Deploy
          deployment: Production
          image: node:18
          script:
            - npm install
            - cd storybook-react
            - npm install
            - npm run build-storybook 
            - npx chromatic --project-token $REACT_STORYBOOK_TOKEN --exit-zero-on-changes
          artifacts:
            - storybook-react/storybook-static/**
    vue:
      - step:
          name: Build & Deploy
          deployment: Production
          image: node:16
          script:
            - npm install
            - cd storybook-vue
            - npm install
            - npm run build-storybook 
            - npx chromatic --project-token $VUE_STORYBOOK_TOKEN --exit-zero-on-changes
          artifacts:
            - storybook-vue/storybook-static/**
  tags:
    production-*:
      - step:
          name: Build
          deployment: Production
          image: node:18
          script:
            - npm install
            - npm run build-storybook
          artifacts:
            - storybook-static/**
      - step:
          name: Deploy to S3
          image: atlassian/pipelines-awscli
          script:
            - aws s3 sync --delete ./storybook-static s3://ui.integrationcorp.co.kr
            - aws cloudfront create-invalidation --distribution-id E2J4QL6EK16P4D --paths "/*"
```

<br/>

### `package.json` scripts:
| npm scripts               | commands                                                       |
|---------------------------|----------------------------------------------------------------|
| `"storybook"`             | "storybook dev -p 6006"                                        |
| `"storybook:react"`       | "cd storybook-react && npm install && npm run storybook"       |
| `"storybook:vue"`         | "cd storybook-vue && npm install && npm run storybook"         |
| `"build-storybook"`       | "storybook build"                                              |
| `"build-storybook:react"` | "cd storybook-react && npm install && npm run build-storybook" |
| `"build-storybook:vue"`   | "cd storybook-vue && npm install && npm run build-storybook"   |
